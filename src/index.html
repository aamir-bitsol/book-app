<!DOCTYPE html>
<html>
  <head>
    <title>SSE Example</title>
  </head>
  <body>
    <h1>User Notifications</h1>
    <ul id="userList"></ul>

    <script>
      const userList = document.getElementById('userList');

      const eventSource = new EventSource('/sse/stream');
      eventSource.onmessage = function (event) {
        const eventData = JSON.parse(event.data);
        if (eventData.event === 'user-created') {
            alert("notification");
          const newUser = eventData.data;
          const listItem = document.createElement('li');
          listItem.innerText = `New user: ${newUser.name}`;
          userList.appendChild(listItem);
        }
      };
    </script>
  </body>
</html>
